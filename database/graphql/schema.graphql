scalar DateTime @scalar(class: "Nuwave\\Lighthouse\\Schema\\Types\\Scalars\\DateTime")

type Query {
  me: User @auth
  films(
        title: String @where(key: "title", operator: "like")
        description: String @where(key: "description", operator: "like")
        duration: durationRange @whereBetween(key: "length")
        release_year: Int @where(key: "release_year", operator: ">=")
    ): [Film!] @paginate(defaultCount:10)
}
type Mutation {
  createFilm(input: CreateFilmInput! @spread): Film! @create
  createActor(input: CreateActorInput! @spread): Actor! @create
}

input durationRange {
  from: Int!
  to: Int!
}

type User{
    id: ID!
    login: String!
    email: String!
    password: String!
    first_name: String!
    last_name: String!
}

type Film {
    id: ID!
    title: String!
    release_year: Int!
    length: Int!
    description: String!
    rating: String!
    special_features: String!
    image: String!
    
}

type Actor {
    id: ID!
    last_name: String!
    first_name: String!
    birth_date: DateTime!
}

type Language {
    id: ID!
    name: String!
}

type Critic {
    id: ID!
    score: Int!
    comment: String!
    user_id: Int!
    film_id: Int!
}

input CreateFilmInput {
    title: String!
    description: String!
    release_year: Int!
    length: Int!
    rating: String!
    special_features: String!
    language_id: Int!
    image: String!
}

input CreateActorInput {
    last_name: String!
    first_name: String!
    birth_date: DateTime!
}


